{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Servi\u00e7os para o 2\u00ba bimestre DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"#servicos-para-o-2o-bimestre","text":"DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"dhcp/","text":"DHCP AVALIA\u00c7\u00c3O Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Distribuir um intervalo ( range em ingl\u00eas) de endere\u00e7os IP; (15 pontos) Reservar 2 endere\u00e7os (IP fixo) fora do intervalo do item anterior. (5 pontos) Instala\u00e7\u00e3o Instalando o \"DNSMASQ\" na maquina \"Xarope\" para rodar na maquina. Comando: sudo apt install DNSMASQ Ap\u00f3s a instala\u00e7\u00e3o do DNSMASQ, precisamos subir o servi\u00e7o no linux. Caso voc\u00ea esteja usando o ubuntu use: comando: systemctl dnsmasq start Caso voc\u00ea esteja usando o alpine ou semelhante use: comando - service dnsmasq start O terminal mostrar\u00e1 dnsmasq rodando no sistema. Agora voc\u00ea precisar\u00e1 entrar no diret\u00f3rio /etc/dnsmasq.d e criar um arquivo de configura\u00e7\u00e3o do servi\u00e7o. comando - touch dhcp.conf Dentro do arquivo dhcp.conf, coloque as configura\u00e7\u00f5es. Ela tem que ficar desse modo: #CONFIGURA\u00c7\u00c3O DO DHCP #INTERFACE DA REDE . interface=eth1 . dhcp-range=192.168.2.2,192.168.2.254,255.255.255.0,12h #SERVE DNS . dhcp-option=3,192.168.2.254 #DNS GOOGLE . dhcp-option=3,8.8.8.8 #DOMINIO SAMBA . dhcp-option=15,noronha.lab #LOCAL DO LOG . log-facility=/var/log/dnsmasq.log #IPS FIXO POR MAC . dhcp-host=08:00:27:B5:E1:71,192.168.2.3 . dhcp-host=08:00:27:6D:35:FB,192.168.2.4 Configurando a maquina windows: No windows, clique no menu \"iniciar\" Com esse comando voc\u00ea poderar acompanhar o log. Ap\u00f3s isso, entre no \"painel de controle\" Dentro do \"painel de controle\" procure \"Conex\u00f5es de rede\" Vai aparecer um simbolo com o nome \"Conex\u00e3o local\" Clicando nela, Voc\u00ea entra em propriedades, e clica na op\u00e7\u00e3o de protocolo. Nisso voce troca a op\u00e7\u00e3o de ip fixo para dhcp OBS: precisa delisgar o firewall para conseguir pingar Fazendo o teste de ping com ip fixo: Ping 192.168.2.3 Ping 192.168.2.4 LOG ONDE ENCONTRAR O LOG DO DNSMASQ comando - tail -f /var/log/dnsmasq.log Teste","title":"DHCP"},{"location":"dhcp/#dhcp","text":"","title":"DHCP"},{"location":"dhcp/#avaliacao","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Distribuir um intervalo ( range em ingl\u00eas) de endere\u00e7os IP; (15 pontos) Reservar 2 endere\u00e7os (IP fixo) fora do intervalo do item anterior. (5 pontos)","title":"AVALIA\u00c7\u00c3O"},{"location":"dhcp/#instalacao","text":"","title":"Instala\u00e7\u00e3o"},{"location":"dhcp/#instalando-o-dnsmasq-na-maquina-xarope-para-rodar-na-maquina","text":"Comando: sudo apt install DNSMASQ","title":"Instalando o \"DNSMASQ\" na maquina \"Xarope\" para rodar na maquina."},{"location":"dhcp/#apos-a-instalacao-do-dnsmasq-precisamos-subir-o-servico-no-linux","text":"Caso voc\u00ea esteja usando o ubuntu use: comando: systemctl dnsmasq start Caso voc\u00ea esteja usando o alpine ou semelhante use: comando - service dnsmasq start","title":"Ap\u00f3s a instala\u00e7\u00e3o do DNSMASQ, precisamos subir o servi\u00e7o no linux."},{"location":"dhcp/#o-terminal-mostrara-dnsmasq-rodando-no-sistema","text":"","title":" O terminal mostrar\u00e1 dnsmasq rodando no sistema."},{"location":"dhcp/#agora-voce-precisara-entrar-no-diretorio-etcdnsmasqd-e-criar-um-arquivo-de-configuracao-do-servico","text":"comando - touch dhcp.conf","title":"Agora voc\u00ea precisar\u00e1 entrar no diret\u00f3rio /etc/dnsmasq.d e criar um arquivo de configura\u00e7\u00e3o do servi\u00e7o."},{"location":"dhcp/#dentro-do-arquivo-dhcpconf-coloque-as-configuracoes-ela-tem-que-ficar-desse-modo","text":"#CONFIGURA\u00c7\u00c3O DO DHCP #INTERFACE DA REDE . interface=eth1 . dhcp-range=192.168.2.2,192.168.2.254,255.255.255.0,12h #SERVE DNS . dhcp-option=3,192.168.2.254 #DNS GOOGLE . dhcp-option=3,8.8.8.8 #DOMINIO SAMBA . dhcp-option=15,noronha.lab #LOCAL DO LOG . log-facility=/var/log/dnsmasq.log #IPS FIXO POR MAC . dhcp-host=08:00:27:B5:E1:71,192.168.2.3 . dhcp-host=08:00:27:6D:35:FB,192.168.2.4","title":"Dentro do arquivo dhcp.conf, coloque as configura\u00e7\u00f5es. Ela tem que ficar desse modo:"},{"location":"dhcp/#configurando-a-maquina-windows","text":"No windows, clique no menu \"iniciar\" Com esse comando voc\u00ea poderar acompanhar o log. Ap\u00f3s isso, entre no \"painel de controle\" Dentro do \"painel de controle\" procure \"Conex\u00f5es de rede\" Vai aparecer um simbolo com o nome \"Conex\u00e3o local\" Clicando nela, Voc\u00ea entra em propriedades, e clica na op\u00e7\u00e3o de protocolo. Nisso voce troca a op\u00e7\u00e3o de ip fixo para dhcp","title":"Configurando a maquina windows:"},{"location":"dhcp/#obs-precisa-delisgar-o-firewall-para-conseguir-pingar","text":"","title":"OBS: precisa delisgar o firewall para conseguir pingar"},{"location":"dhcp/#fazendo-o-teste-de-ping-com-ip-fixo","text":"Ping 192.168.2.3 Ping 192.168.2.4","title":"Fazendo o teste de ping com ip fixo:"},{"location":"dhcp/#log","text":"","title":"LOG"},{"location":"dhcp/#onde-encontrar-o-log-do-dnsmasq","text":"comando - tail -f /var/log/dnsmasq.log","title":"ONDE ENCONTRAR O LOG DO DNSMASQ"},{"location":"dhcp/#teste","text":"","title":"Teste"},{"location":"dns/","text":"DNS Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Cinco registros (4 pontos cada): 3 do tipo A (Endere\u00e7os); 2 do tipo CNAME ( www e docs ); Instala\u00e7\u00e3o Programas necessarios: samba lxc comando de instala\u00e7\u00e3o sudo apk add lxd sudo apk add samba Configura\u00e7\u00e3o Primeiro passo para realizar o servi\u00e7o dns. voc\u00ea precisar\u00e1 criar a quantidade de containes necessarios para seu servi\u00e7o. comando para criar um container: comando - lxc launch images:/vers\u00e3o/caminho/ nome-do-container Seguindo o passo seguinte, devemos obter o ip do container: comando - lxc list Assim os containers aparecer\u00e3o na sua tela, com os ips. Com os ips em m\u00e3o, precisamos utilizar gerenciador dns do windows que voc\u00ea utilizou o serve samba(noronoha.lab) e criar os registros dentro das (ous)","title":"DNS"},{"location":"dns/#dns","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Cinco registros (4 pontos cada): 3 do tipo A (Endere\u00e7os); 2 do tipo CNAME ( www e docs );","title":"DNS"},{"location":"dns/#instalacao","text":"","title":"Instala\u00e7\u00e3o"},{"location":"dns/#programas-necessarios","text":"samba lxc comando de instala\u00e7\u00e3o sudo apk add lxd sudo apk add samba","title":"Programas necessarios:"},{"location":"dns/#configuracao","text":"Primeiro passo para realizar o servi\u00e7o dns. voc\u00ea precisar\u00e1 criar a quantidade de containes necessarios para seu servi\u00e7o.","title":"Configura\u00e7\u00e3o"},{"location":"dns/#comando-para-criar-um-container","text":"comando - lxc launch images:/vers\u00e3o/caminho/ nome-do-container","title":"comando para criar um container:"},{"location":"dns/#seguindo-o-passo-seguinte-devemos-obter-o-ip-do-container","text":"comando - lxc list","title":"Seguindo o passo seguinte, devemos obter o ip do container:"},{"location":"dns/#assim-os-containers-aparecerao-na-sua-tela-com-os-ips-com-os-ips-em-mao-precisamos-utilizar-gerenciador-dns-do-windows-que-voce-utilizou-o-serve-sambanoronohalab-e-criar-os-registros-dentro-das-ous","text":"","title":"Assim os containers aparecer\u00e3o na sua tela, com os ips. Com os ips em m\u00e3o, precisamos utilizar gerenciador dns do windows que voc\u00ea utilizou o serve samba(noronoha.lab) e criar os registros dentro das (ous)"},{"location":"ldap/","text":"LDAP Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar duas OU: vendedores e rh ; Mover o grupo sobrenome1 e seus membros para a OU vendedores ; Mover os grupo sobrenome2 e seus membros para a OU rh . Instala\u00e7\u00e3o Instalando o samba Comando - sudo apk add samba Configura\u00e7\u00e3o Criando as Ou samba-tool ou create \"OU=vendedores\" samba-tool ou create \"OU=rh\" Criando os grupos samba-tool group add sobrenome1 samba-tool group add sobrenome2 Colocando os grupos dentro das ous respectivas samba-tool group modify sobrenome1 --set-rename-dn=\"cn=sobrenome1,ou=grupos,dc=your,dc=domain,dc=com\" --new-name=\"cn=sobrenome1,ou=vendedores,dc=your,dc=domain,dc=com\" samba-tool group modify sobrenome2 --set-rename-dn=\"cn=sobrenome2,ou=grupos,dc=your,dc=domain,dc=com\" --new-name=\"cn=sobrenome2,ou=rh,dc=your,dc=domain,dc=com\" Criando os usu\u00e1rios samba-tool user add usuario1 samba-tool user add usuario2 Adicionando os usu\u00e1rios aos grupos samba-tool group addmembers sobrenome1 usuario1 samba-tool group addmembers sobrenome2 usuario2 Teste","title":"LDAP"},{"location":"ldap/#ldap","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar duas OU: vendedores e rh ; Mover o grupo sobrenome1 e seus membros para a OU vendedores ; Mover os grupo sobrenome2 e seus membros para a OU rh .","title":"LDAP"},{"location":"ldap/#instalacao","text":"","title":"Instala\u00e7\u00e3o"},{"location":"ldap/#instalando-o-samba","text":"Comando - sudo apk add samba","title":"Instalando o samba"},{"location":"ldap/#configuracao","text":"","title":"Configura\u00e7\u00e3o"},{"location":"ldap/#criando-as-ou","text":"samba-tool ou create \"OU=vendedores\" samba-tool ou create \"OU=rh\"","title":"Criando as Ou"},{"location":"ldap/#criando-os-grupos","text":"samba-tool group add sobrenome1 samba-tool group add sobrenome2","title":"Criando os grupos"},{"location":"ldap/#colocando-os-grupos-dentro-das-ous-respectivas","text":"samba-tool group modify sobrenome1 --set-rename-dn=\"cn=sobrenome1,ou=grupos,dc=your,dc=domain,dc=com\" --new-name=\"cn=sobrenome1,ou=vendedores,dc=your,dc=domain,dc=com\" samba-tool group modify sobrenome2 --set-rename-dn=\"cn=sobrenome2,ou=grupos,dc=your,dc=domain,dc=com\" --new-name=\"cn=sobrenome2,ou=rh,dc=your,dc=domain,dc=com\"","title":"Colocando os grupos dentro das ous respectivas"},{"location":"ldap/#criando-os-usuarios","text":"samba-tool user add usuario1 samba-tool user add usuario2","title":"Criando os usu\u00e1rios"},{"location":"ldap/#adicionando-os-usuarios-aos-grupos","text":"samba-tool group addmembers sobrenome1 usuario1 samba-tool group addmembers sobrenome2 usuario2","title":"Adicionando os usu\u00e1rios aos grupos"},{"location":"ldap/#teste","text":"","title":"Teste"},{"location":"proxy/","text":"PROXY Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula. Instala\u00e7\u00e3o comando - sudo apk add squid Configura\u00e7\u00e3o caminho do arquivo de configura\u00e7\u00e3o do squid: /etc/squid/squind.conf Configurando o firefox(browse) para rodar o proxy Nessa atividade coloquei Acls de bloqueio e de restri\u00e7\u00e3o de acesso a rede em determinado hor\u00e1rio e tamb\u00e9m a o navegador. Bloqueia o acesso ao site tecmundo.com.br acl tecmundo dstdomain .tecmundo.com.br http_access deny tecmundo Faz o bloqueio por palavras chaves no navegador, usando duas \u201cfacebook e conte\u00fado adulto\u201d. consigo fazer o bloqueio. acl bloquename url_regex \u201cfacebook|p@rno\u201d Trava o acesso a rede em determinada hora, defino entre 19Hrs e 20Hrs. acl jantar time MTWHF 19:00-20:00 N\u00e3o permite o acesso do usu\u00e1rio ao navegador escolhido, que no caso \u00e9 o Chrome. acl webbrowser browser chrome http_Access deny webbrowser Teste Arquivo squid.conf Exibindo o c\u00f3digo usado. P\u00e1gina web bloqueada pela palavra chave e o log acusando o acesso negado do facebook. P\u00e1gina web bloqueada pela url. O log mostrando o acesso negado.","title":"PROXY"},{"location":"proxy/#proxy","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula.","title":"PROXY"},{"location":"proxy/#instalacao","text":"comando - sudo apk add squid","title":"Instala\u00e7\u00e3o"},{"location":"proxy/#configuracao","text":"","title":"Configura\u00e7\u00e3o"},{"location":"proxy/#caminho-do-arquivo-de-configuracao-do-squid","text":"/etc/squid/squind.conf","title":"caminho do arquivo de configura\u00e7\u00e3o do squid:"},{"location":"proxy/#configurando-o-firefoxbrowse-para-rodar-o-proxy","text":"Nessa atividade coloquei Acls de bloqueio e de restri\u00e7\u00e3o de acesso a rede em determinado hor\u00e1rio e tamb\u00e9m a o navegador. Bloqueia o acesso ao site tecmundo.com.br acl tecmundo dstdomain .tecmundo.com.br http_access deny tecmundo Faz o bloqueio por palavras chaves no navegador, usando duas \u201cfacebook e conte\u00fado adulto\u201d. consigo fazer o bloqueio. acl bloquename url_regex \u201cfacebook|p@rno\u201d Trava o acesso a rede em determinada hora, defino entre 19Hrs e 20Hrs. acl jantar time MTWHF 19:00-20:00 N\u00e3o permite o acesso do usu\u00e1rio ao navegador escolhido, que no caso \u00e9 o Chrome. acl webbrowser browser chrome http_Access deny webbrowser","title":"Configurando o firefox(browse) para rodar o proxy"},{"location":"proxy/#teste","text":"Arquivo squid.conf Exibindo o c\u00f3digo usado. P\u00e1gina web bloqueada pela palavra chave e o log acusando o acesso negado do facebook. P\u00e1gina web bloqueada pela url. O log mostrando o acesso negado.","title":"Teste"},{"location":"smb/","text":"SMB AVALIA\u00c7\u00c3O Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar 2 grupos para dois de seus sobrenomes; Criar 4 usu\u00e1rios, dois para cada um dos sobrenomes; Compartilhar duas pastas com dois de seus sobrenome, compartilhado para o grupo com o sobrenome correspondente. Instala\u00e7\u00e3o Primeiro passo foi instalar o samba na m\u00e1quina xarope. Comando - apk add samba Colocando o comando no samba para levantar o dom\u00ednio(noronha). Com esse comando podemos escolher o nome do dom\u00ednio, dns (backend), realm. Comando - samba-tool domain provision \u2013use-rcf2307 \u2013interactive Continuando a construir a base do samba, nessa etapa, crio as pastas das familias que pretendo compartilhar. Pastas /srv/samba/(fidelis, nascimento) Ap\u00f3s criar as pastas das familias, nessa etapa, \u00e9 preciso entrar no arquivo( smb.conf ), que se encontra na pasta ( /etc/samba/ ), nele, eu configurei e acrescentei cada fam\u00edlia no dom\u00ednio noronha. Voc\u00ea precisa fazer uma configura\u00e7\u00e3o no arquivo smb.conf . Caminho - /etc/samba/smb.conf Dentro do smb.conf, configuramos o samba para encaminhar os grupos e seus diretorios. [GLOBAL] [FIDELIS] path = /srv/samba/fidelis <br> available = yes <br> valid users = @fidelis browseable = yes read only = no create mask = 0600 directory mask = 0770 [NASCIMENTO] path = /srv/samba/nascimento available = yes valid users = @nascimento browseable = yes read only = no crate mask = 0600 directory mask = 0770 Em seguida, iniciei a m\u00e1quina windows com a conta (admin) e configurei a placa de rede local 1, que se encontrava em rede interna com a maquina real. rede interna: intnet Assim que configurei a placa com o ip da m\u00e1quina linux. eu entrei na ferramenta Usu\u00e1rios e domputadores do AD, e criei duas OU (norte,sul) dentro da (OU-NORTE) coloquei as duas fam\u00edlias pela interface grafica. Programa - ActiveDirectory Comando: Samba-tool ou list Obs: Listei no linux, usando o comando samba-tool ou list, as unidades organizacionais. OBS: para abrir as pastas no windows, voc\u00ea vai no \"menu iniciar\" e escreve o nome do seu dominio dessa forma: comando - \\\\noronha As proximas etapas \u00e9 a ativa\u00e7\u00e3o do compartilhamento de pastas da mesma rede. Em seguida na m\u00e1quina windows, no usu\u00e1rio(marli.fidelis) de uma das fam\u00edlias, eu cliquei no bot\u00e3o iniciar, e digite o dom\u00ednio(noronha). Teste Para ver se funcinou, voc\u00ea deve entrar no usuario criado na conta admin do windows, e colocar o dom\u00ednio no menu iniciar ( \\\\noronha ), assim aparecer\u00e1 as pastas compartilhadas das familias, mas cada familia poder\u00e1 somente utilizar a de seu respectivo grupo.","title":"SMB"},{"location":"smb/#smb","text":"","title":"SMB"},{"location":"smb/#avaliacao","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar 2 grupos para dois de seus sobrenomes; Criar 4 usu\u00e1rios, dois para cada um dos sobrenomes; Compartilhar duas pastas com dois de seus sobrenome, compartilhado para o grupo com o sobrenome correspondente.","title":"AVALIA\u00c7\u00c3O"},{"location":"smb/#instalacao","text":"","title":"Instala\u00e7\u00e3o"},{"location":"smb/#primeiro-passo-foi-instalar-o-samba-na-maquina-xarope","text":"Comando - apk add samba","title":"Primeiro passo foi instalar o samba na m\u00e1quina xarope."},{"location":"smb/#colocando-o-comando-no-samba-para-levantar-o-dominionoronha-com-esse-comando-podemos-escolher-o-nome-do-dominio-dns-backend-realm","text":"Comando - samba-tool domain provision \u2013use-rcf2307 \u2013interactive","title":"Colocando o comando no samba para levantar o dom\u00ednio(noronha). Com esse comando podemos escolher o nome do dom\u00ednio, dns (backend), realm."},{"location":"smb/#dentro-do-smbconf-configuramos-o-samba-para-encaminhar-os-grupos-e-seus-diretorios","text":"[GLOBAL] [FIDELIS] path = /srv/samba/fidelis <br> available = yes <br> valid users = @fidelis browseable = yes read only = no create mask = 0600 directory mask = 0770 [NASCIMENTO] path = /srv/samba/nascimento available = yes valid users = @nascimento browseable = yes read only = no crate mask = 0600 directory mask = 0770 Em seguida, iniciei a m\u00e1quina windows com a conta (admin) e configurei a placa de rede local 1, que se encontrava em rede interna com a maquina real. rede interna: intnet","title":"Dentro do smb.conf, configuramos o samba para encaminhar os grupos e seus diretorios."},{"location":"smb/#assim-que-configurei-a-placa-com-o-ip-da-maquina-linux-eu-entrei-na-ferramenta-usuarios-e-domputadores-do-ad-e-criei-duas-ou-nortesul-dentro-da-ou-norte-coloquei-as-duas-familias-pela-interface-grafica","text":"Programa - ActiveDirectory Comando: Samba-tool ou list Obs: Listei no linux, usando o comando samba-tool ou list, as unidades organizacionais. OBS: para abrir as pastas no windows, voc\u00ea vai no \"menu iniciar\" e escreve o nome do seu dominio dessa forma: comando - \\\\noronha As proximas etapas \u00e9 a ativa\u00e7\u00e3o do compartilhamento de pastas da mesma rede. Em seguida na m\u00e1quina windows, no usu\u00e1rio(marli.fidelis) de uma das fam\u00edlias, eu cliquei no bot\u00e3o iniciar, e digite o dom\u00ednio(noronha).","title":"Assim que configurei a placa com o ip da m\u00e1quina linux. eu entrei na ferramenta Usu\u00e1rios e domputadores do AD, e criei duas OU (norte,sul) dentro da (OU-NORTE) coloquei as duas fam\u00edlias pela interface grafica."},{"location":"smb/#teste","text":"Para ver se funcinou, voc\u00ea deve entrar no usuario criado na conta admin do windows, e colocar o dom\u00ednio no menu iniciar ( \\\\noronha ), assim aparecer\u00e1 as pastas compartilhadas das familias, mas cada familia poder\u00e1 somente utilizar a de seu respectivo grupo.","title":"Teste"}]}